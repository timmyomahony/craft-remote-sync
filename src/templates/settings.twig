{% extends "remote-core/settings" %}

{% import "_includes/forms" as forms %}
{% from "remote-core/macros" import configWarning %}

{% block customSettings %}
    {{ forms.lightswitchField({
        label: "Prune Files"|t('remote-sync'),
        instructions: "Delete older remote files when new files pushed"|t('remote-sync'),
        name: 'prune',
        id: 'prune',
        on: settings.prune,
        errors: settings.getErrors('prune'),
        warning: configWarning('prune', 'remote-sync')
    }) }}

    {{ forms.textField({
        label: "Prune limit"|t('remote-sync'),
        type: "number",
        instructions: "The number of most recent files to keep when pruning."|t('remote-sync'),
        name: 'pruneLimit',
        id: 'pruneLimit',
        value: settings.pruneLimit,
        errors: settings.getErrors('pruneLimit'),
        warning: configWarning('pruneLimit', 'remote-sync')
    }) }}

    <hr>

    {{ forms.lightswitchField({
        label: "Keep an Emergency Backup"|t('remote-sync'),
        instructions: "Create an emergency backup before pulling & restoring."|t('remote-sync'),
        name: 'keepEmergencyBackup',
        id: 'keepEmergencyBackup',
        on: settings.keepEmergencyBackup,
        errors: settings.getErrors('keepEmergencyBackup'),
        warning: configWarning('keepEmergencyBackup', 'remote-sync')
    }) }}

    {{ forms.lightswitchField({
        label: "Disable pull and restore"|t('remote-sync'),
        instructions: "Disable pulling & restoring for this environment."|t('remote-sync'),
        name: 'disableRestore',
        id: 'disableRestore',
        on: settings.disableRestore,
        errors: settings.getErrors('disableRestore'),
        warning: configWarning('disableRestore', 'remote-sync')
    }) }}
{% endblock %}